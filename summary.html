<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Resume du CHE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="" />
<meta name="author" content="http://webthemez.com" />
<!-- css -->
<link href="css/bootstrap.min.css" rel="stylesheet" />
<link href="css/fancybox/jquery.fancybox.css" rel="stylesheet">
<link href="css/jcarousel.css" rel="stylesheet" />
<link href="css/flexslider.css" rel="stylesheet" />
<link href="css/style.css" rel="stylesheet" />
 

</head>
<body>
<div id="wrapper">

	<!-- start header -->
	<header>
        <div class="navbar navbar-default navbar-static-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html"><img src="img/Cyber-Humanum-Est.png" alt="logo"/></a>
                </div>
                <div class="navbar-collapse collapse ">
                    <ul class="nav navbar-nav">
                        <li><a href="index.html">Le CHE</a></li> 
						<li class="active"><a href="summary.html">Resumé d'exercice</a></li>
						<li><a href="live_che.html">Vivre le CHE</a></li>
                        <li><a href="portfolio.html">Photos</a></li>
                        <li><a href="polytech_x_che.html">Polytech X CHE</a></li>
                    </ul>
                </div>
            </div>
        </div>
	</header>
	<!-- end header -->
	<section id="inner-headline">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<h2 class="pageTitle">Résumé de l'exercice du CHE</h2>
			</div>
		</div>
	</div>
	</section>
	<section id="content">
	<div class="container">
					
					<!-- 1ère section de présentation -->
					<div class="about">
					
						<div class="row"> 
							<div class="col-md-12">
								<div class="about-logo">
									<h3>Preparation à l'exercice</h3>
									<p>Participer à cet exercice puis assumer des rôles au sein des équipes offensives et défensives requiert des capacités techniques particulières pour être en mesure de réaliser des actions cyber. Ainsi pour atteindre ces prérequis, il nous a été nécessaire de nous préparer en amont de l’exercice.</p>
								</div>
							</div>
						</div>  
						<br>
							
						<div class="row">
							<div class="col-md-6">
								<img src="img/root-me-black-with-text.jpg" alt="">
								<div class="space"></div>
							</div>
							<div class="col-md-6">
								<p>Une association de sessions d'entrainements en groupes organisées par la FST et Polytech Nancy, et d'autoformation en ligne sur les plateformes comme RootMe ont constitué la matière principale de notre préparation au jour J.</p>
							</div>
						</div>
						<div class="row"> 
							<div class="col-md-12">
								<div class="about-logo">
									<p>Pour rappel, cet exercice est extrêmement diversifié dans les domaines de la cybersécurité. Il nous a donc été nécessaire d’établir un plan d’action pour nous préparer au mieux.</p>
									<p>Sur la période de septembre 2023 à début mars 2024, il nous a fallu organiser des phases d’entrainement quotidiennes.</p>
									<p>Cette phase de préparation sur un semestre n’est évidement pas partie de zéro. Des points de vue du temps mais également des notions abordées, il nous aurait été impossible de réaliser l’exercice du CHE sans connaissances initiales. Succinctement. Avant de commencer quelconque préparation, notre formation ingénieur en réseaux et télécommunications, systèmes connectés, principes informatiques, protocoles et sécurité informatique (et d’autres), nous ont permis de réaliser une autoformation en vue du CHE.</p>
								</div>
								<p>Nous avons dédié une page à la pertinence de cet exercice à prendre place dans nos études d'ingénieur et à cette temporalité, pour en lire plus :</p>
								<a href="polytech_x_che.html" class="btn btn-color">Polytech et le CHE</a>  
							</div>
						</div>  
						<br/> 
						<hr>

					<div class = "aligncenter">
						<h2>Top départ de l'exercice le 05 février 2024 à 10h</h2>
					</div>
					<hr>
    
                    <!-- 2nde section de présentation -->
					<div class="about">
					
						<div class="row"> 
							<div class="col-md-12">
								<div class="about-logo">
									<h3>Mapping de notre infrastructure</h3>
									<p>Une fois le top départ lancé, l'exercice s'est dans un premier temps composé de l'élaboration d'un plan de notre infrastructure Cryptanga. Pendant 2 heures nous avions ainsi pour mission de réaliser des scans sur nos propres réseaux pour découvrir avec quoi nous allions intéragir tout au long de la suite de l'exercice. Car oui, nous n'avions initialement pas connaissance de quelconque installation, la notre ainsi comprise.</p>
                  					<p>Cette étape a été principalement pertinente pour l'équipe LID qui allait se baser essentiellement sur ces infrastructures alliées. Quand à notre équipe LIO, il était intéressant de découvrir notre infrastructure pour essayer de reconnaitre des modèles et supposer celle de l'adversaire plus ou moins similaire. Nombreuses des prémices de nos attaques se sont ainsi basées sur ce principe d'identification de notre infrastructure et de detection de l'infrastructure ennemie en mirroir</p>
									<p>Egalement cette logique fût appliquée pour les vulnérabilités présentes sur nos infrastructures et ainsi potentiellement des vulnérabilités très similaires sur celles ennemies. Il fût donc pertinent de réaliser des tests et tenter d'exploiter des vulnérabilités sur nos propres infrastructures pour en établir des plans d'action et ainsi tenter des attaques sur les infrastructures ennemies de manières plus efficaces, donc brèves, en laissant moins de traces et avec une probabilité de réussite plus élevée.</p>
								</div>
							</div>
						</div>  
						<br>
							<div class="row">
								<div class="col-md-6">
									<img src="img/Traffic-SQ1.jpg" alt="">
									<div class="space"></div>
								</div>
								<div class="col-md-6">
									<p>Pour l'équipe LIO, cette première phase s'est ainsi composé des tâches de :</p>
									<ul class="list-unstyled">
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Vérification de la connectivité de tous les hôtes</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Compréhension de la logique structurelle de notre réseau</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Détection des hôtes physiques</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Détection de potentiels hôtes virtuels et des services disponibles</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Etude des vulérabilités sur les services de notre équipe</li>
									</ul>
								</div>
							</div>	
						<br/> 
						<hr>

					<!-- 3ème section de présentation -->
					<div class="about">

						<div class="row"> 
							<div class="col-md-12">
								<div class="about-logo">
									<h3>Continuation de l'établissement de la cartographie et récupération de flags</h3>
									<p>Nous avons dû continuer de scanner le réseau afin d'étoffer la cartographie tout au long de l'exercice, puisque nous n'avons pas pu découvrir toute l'infrastructure réseau et que des éléments nouveaux se rajoutaient au réseau au fur et à mesure. Certains de ces éléments appartenaient à notre équipe, d'autres à Anuméric, et d'autres à l'organisation ou étaient neutres.</p>
								</div>  
							</div>
						</div>  
						<br>
							
							<div class="row">
							<div class="col-md-6">
								<img src="img/Cartographie_totale.png" alt="">
								<div class="space"></div>
							</div>
							<div class="col-md-6">
								<p>Un certain nombre d'éléments connectés sur le réseau, même neutres, contenaient des flags à récupérer pour gagner des points et de "l'argent", qui pouvait ensuite être utilisé pour acheter des avantages. Nous n'avons pas pu en utiliser de cette manière puisqu'une faille dans la banque a permis à l'équipe APT 54 de récupérer notre argent.</p>
								<p>Nous avons cependant passé également du temps à chercher des flags cachés dans les différents sites webs et autres services disponibles sur les hôtes trouvés. D'un système à l'autre, les façons de trouver des flags étaient généralement différents, avec par exemple des LFI ou des images à analyser. 3 sites se démarquent de par leur similitude, puisque les mêmes fichiers étaient disponibles sur ceux-ci et que la méthode pour trouver un flag était similaire, bien que légérement différente : un token d'autorisation JWT à modifier de la bonne façon.</p>
							</div>
						</div>	
						<br/> 
						<hr>

						<!-- 4ème section de présentation -->
						<div class="about">
					
							<div class="row"> 
								<div class="col-md-12">
									<div class="about-logo">
										<h3>Attaque de l'ambassade</span></h3>
										<p>L'attaque de l'ambassade à débutée le jour 2 une fois que les réseaux Wifis étaient activés. Ces réseaux utilisant le protocole WPA1 n'étaient pas sûrs et nous avons donc pû récupérer le code en attaquant le handshake de connexion.</p>
										<p>Une fois le mot de passe dérobé et ainsi connecté au réseau de l'ambassade, nous avons pu y trouver une caméra. Nous avons figé la vidéo pour pouvoir s'infiltrer à l'intérieur de l'ambassade et commencer une attaque sur les badges NFC des ambassadeurs. Grâce à un simple téléphone portable il a été possible de copier le contenu des badges et d'y trouver des informations compromettantes encodées en ASCII.</p>
									</div>  
								</div>
							</div>  
							<br>
								
							<div class="row">
								<div class="col-md-6">
									<img src="img/25.jpg" alt="">
									<div class="space"></div>
								</div>
								<div class="col-md-6">
									<p>Mais l'attaque de l'ambassade ne s'est pas limitée à cela.</p>
									<p>Les actions réalisées à l'ambassade ennemie furent:</p>
									<ul class="list-unstyled">
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Attaque du mot de passe Wifi par handshake</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Attaque de la caméra de surveillance</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Attaque de l'interface de surveillance MotionEye présentant une vulnérabilité</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Attaque du routeur par obtention des accès administrateur</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Attaque des badges NFC des ambassadeurs</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Attaque du poste d'un ambassadeur</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Attaque d'un clavier bluetooth</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Déchiffrement de messages chiffrés envoyés par ondes radio vers le pays Anuméric</li>
									</ul>
								</div>
							</div>	
							<br/> 
							<hr>

						<!-- 5ème section de présentation -->
						<div class="about">
					
							<div class="row"> 
								<div class="col-md-12">
									<div class="about-logo">
										<h3>Attaque GLPI</h3>
										<p>Durant la nuit du 2ème au 3ème jour, l'un de nos sites a été attaqué par l'organisation. Celui-ci était un site GLPI. Le texte de sa page d'accueil avait été remplacé par "You have been hacked". Afin de le récupérer, nous avons alors dû l'attaquer.</p>
										<p>La version de GLPI était vulnérable à un exploit dans un fichier du dossier htmlawed, dans lequel n'importe quel utilisateur pouvait exécuter des commandes.</p>
									</div> 
								</div>
							</div>  
							<br>
								
							 <div class="row">
								<div class="col-md-6">
									<img src="img/htmlawed.png" alt="">
									<div class="space"></div>
								</div>
								<div class="col-md-6">
									<p>Nous avons tiré parti de cette vulnérabilité pour transférer un reverse shell en php depuis l'une de nos machines vers la machine victime.</p>
									<ul class="list-unstyled">
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Nous avons alors pu lister les utilisateurs possédant un compte sur la machine, dont un utilisateur admin_si404. Nous avons alors pu déduire son mot de passe après quelques essais : adminapt53.</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Celui-ci était le compte laissé là par l'organisation après leur attaque. Nous y connecter nous a permis d'utiliser des commandes root. Nous avons alors pu vérifier les logs afin de déterminer ce qu'il s'était passé au moment de l'attaque.</li>
										<li><i class="fa fa-arrow-circle-right pr-10 colored"></i> Nous avons alors supprimé tous les comptes suspects, caché le htmlawed.php et supprimé les reverse shells</li>
									</ul>
								</div>
							</div>
							<div class="row"> 
								<div class="col-md-12">
									<div class="about-logo">
										<p>Puisque notre site GLPI avait été attaqué, celui des Anuméric était vulnérable de la même façon.</p>
										<p>Nous avons alors reproduit cette attaque sur leur site une fois celui-ci trouvé.</p>
									</div> 
								</div>
							</div>  
							<br>
								
							 <div class="row">
								<div class="col-md-6">
									<img src="img/compromisvente.png" alt="">
									<div class="space"></div>
								</div>
								<div class="col-md-6">
									<p>Nous avons également profité de cette attaque en nous associant à notre équipe L2I afin de créer un scandale en affichant un compromis de vente entre le candidat indépendantiste et Anuméric sur le site.</p>
								</div>
							</div>
							<br/> 
							<hr>
					</div>
									
				</div>
	</section>
	<footer>
		<div class="container">
			<div class="row">
				<div class="col-lg-3">
					<div class="widget">
						<h5 class="widgetheading">Site fait par :</h5>
						<ul class="link-list">
							<li>Lucas Printz</li>
							<li>Sami Daafouz</li>
							<li>Thomas Riffaud</li>
							<li>Frédéric Wagner</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		</footer>
</div>
<a href="#" class="scrollup"><i class="fa fa-angle-up active"></i></a>
<!-- javascript
    ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="js/jquery.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.fancybox.pack.js"></script>
<script src="js/jquery.fancybox-media.js"></script> 
<script src="js/portfolio/jquery.quicksand.js"></script>
<script src="js/portfolio/setting.js"></script>
<script src="js/jquery.flexslider.js"></script>
<script src="js/animate.js"></script>
<script src="js/custom.js"></script>
</body>
</html>